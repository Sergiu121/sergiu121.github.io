<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="viewport" content="width=device-width, initial-scale=1" />

      <title>4. O înțelegere mai bună a shellului</title>
    
      <link rel="stylesheet" href="../../_static/pygments.css">
      <link rel="stylesheet" href="../../_static/theme.css">
      <link rel="stylesheet" href="../../_static/romnn_sphinx_press_theme.css">
          <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="../../_static/css/theme.css " type="text/css" />
      
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>

      <!-- sphinx script_files -->
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/my_actions.js?v=1451d81f"></script>

      
      <script src="../../_static/theme-vendors.js"></script>
      <script src="../../_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="next" title="5. Sumar: Îmbunătățirea lucrului în linia de comandă" href="improve-cli-summary.html" />
  <link rel="prev" title="3. Inspectarea fișierelor" href="inspect-files.html" />
    <link href="../../_static/my_theme.css" rel="stylesheet" type="text/css">

  </head>

  <body>
    <div id="app" class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <div class="home-link-container">
      <router-link to="../../index.html" class="home-link">
      
        <span class="site-name">USO Lab Book</span>
    </router-link>
  </div>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="../../index.html#uso-lab-book"
         class="nav-link ">
         Acomodarea în Linux
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../index.html#uso-lab-book"
         class="nav-link ">
         Lucrul cu fișiere
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../index.html#uso-lab-book"
         class="nav-link ">
         Dezvoltarea aplicațiilor
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../index.html#uso-lab-book"
         class="nav-link ">
         Conectarea la Internet
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../index.html#uso-lab-book"
         class="nav-link ">
         Instalarea și utilizarea aplicațiilor
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../index.html#uso-lab-book"
         class="nav-link  router-link-active">
         Îmbunătățirea lucrului în linia de comandă
      </a>
    </div>
  



  
    <div class="nav-item">
      <a href="https://github.com/Sergiu121/uso-lab-book"
        class="nav-link external">
          Github <outboundlink/>
      </a>
    </div>
  

    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="../../index.html#uso-lab-book"
         class="nav-link ">
         Acomodarea în Linux
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../index.html#uso-lab-book"
         class="nav-link ">
         Lucrul cu fișiere
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../index.html#uso-lab-book"
         class="nav-link ">
         Dezvoltarea aplicațiilor
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../index.html#uso-lab-book"
         class="nav-link ">
         Conectarea la Internet
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../index.html#uso-lab-book"
         class="nav-link ">
         Instalarea și utilizarea aplicațiilor
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../index.html#uso-lab-book"
         class="nav-link  router-link-active">
         Îmbunătățirea lucrului în linia de comandă
      </a>
    </div>
  



  
    <div class="nav-item">
      <a href="https://github.com/Sergiu121/uso-lab-book"
        class="nav-link external">
          Github <outboundlink/>
      </a>
    </div>
  

            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Search</span>
    <div class="searchformwrapper">
      <form autocomplete="off" class="search" action="../../search.html" method="get">
        <input type="text" name="q" autocomplete="off" />
        <input type="submit" value="Go" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../../index.html#uso-lab-book">Acomodarea în Linux</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../basic/apps.html" class="reference internal ">Pornirea și oprirea aplicațiilor</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../basic/browser.html" class="reference internal ">Folosirea eficientă a browserului web</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../basic/terminal.html" class="reference internal ">Lucrul în terminal</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../basic/workspace.html" class="reference internal ">Lucrul cu workspace-uri</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../basic/cheatsheet.html" class="reference internal ">Sumar - Cheatsheet</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../../index.html#uso-lab-book">Lucrul cu fișiere</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../files/paths.html" class="reference internal ">Căi în ierarhia de fișiere</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../files/files.html" class="reference internal ">Interacțiunea cu fișiere în linia de comandă</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../files/file_editor.html" class="reference internal ">Editor de text</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../files/io_redirection.html" class="reference internal ">Redirectări</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../files/archive.html" class="reference internal ">Arhive</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../files/file_system.html" class="reference internal ">Extra - Sistemul de fișiere</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../files/cheatsheet.html" class="reference internal ">Sumar - Cheatsheet</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../../index.html#uso-lab-book">Dezvoltarea aplicațiilor</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../app-dev/intro.html" class="reference internal ">Introducere</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-dev/make-intro.html" class="reference internal ">Compilarea unui fișier cod sursă C</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-dev/make-multiple.html" class="reference internal ">Compilarea unui program din fișiere multiple</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-dev/make-lib.html" class="reference internal ">Legarea executabilelor folosind biblioteci externe</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-dev/make-simple-automation.html" class="reference internal ">Introducere în utilitarul Make și fișiere Makefile</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-dev/make-advanced-automation.html" class="reference internal ">Aprofundarea folosirii fișierelor Makefile</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-dev/git-intro.html" class="reference internal ">Introducere în Git și GitHub</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-dev/git-first-commits.html" class="reference internal ">Primele commituri</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-dev/git-branches.html" class="reference internal ">Lucrul pe branch-uri</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-dev/git-first-pull-request.html" class="reference internal ">Crearea unui Pull Request (PR) pe GitHub</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-dev/extra.html" class="reference internal ">Exerciții suplimentare</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../../index.html#uso-lab-book">Conectarea la Internet</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../net/browser.html" class="reference internal ">Folosirea eficientă a browserului</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../net/connection.html" class="reference internal ">Conectarea la rețea și la Internet</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../net/services.html" class="reference internal ">Servicii și clienți de rețea</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../net/extra.html" class="reference internal ">Funcţionalităţi suplimentare de reţelistică</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../../index.html#uso-lab-book">Instalarea și utilizarea aplicațiilor</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../app-install/start.html" class="reference internal ">Pornirea și oprirea aplicațiilor</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-install/run.html" class="reference internal ">Rularea aplicațiilor</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-install/config.html" class="reference internal ">Configurarea rulării aplicațiilor</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-install/summary1.html" class="reference internal ">Exerciții: Pornirea, rularea și configurarea aplicațiilor</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-install/show-config.html" class="reference internal ">Vizualizarea configurației sistemului</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-install/install.html" class="reference internal ">Instalarea și dezinstalarea aplicațiilor</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-install/install-non-standard.html" class="reference internal ">Alternative la instalarea și dezinstalarea aplicațiilor</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-install/show.html" class="reference internal ">Investigarea aplicațiilor instalate</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../app-install/summary2.html" class="reference internal ">Exerciții: Instalarea și gestiunea aplicațiilor</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../../index.html#uso-lab-book">Îmbunătățirea lucrului în linia de comandă</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 "><a href="improve-terminal.html" class="reference internal ">Îmbunătățirea lucrului în linia de comandă</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="inspect-fs.html" class="reference internal ">Inspectarea sistemului de fișiere</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="inspect-files.html" class="reference internal ">Inspectarea fișierelor</a>

            
          </li>

        
          <li class="toctree-l1 current"><a href="#" class="reference internal current">O înțelegere mai bună a shellului</a>

            
              <ul>
                
                  <li class="toctree-l2"><a href="#configurarea-shellului-bash" class="reference internal">Configurarea shellului Bash</a></li>
                
                  <li class="toctree-l2"><a href="#executia-comenzilor" class="reference internal">Execuția comenzilor</a></li>
                
              </ul>
            
          </li>

        
          <li class="toctree-l1 "><a href="improve-cli-summary.html" class="reference internal ">Sumar: Îmbunătățirea lucrului în linia de comandă</a>

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
    
    <li><span class="section-number">4. </span>O înțelegere mai bună a shellului</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="inspect-files.html"
       title="previous chapter">← <span class="section-number">3. </span>Inspectarea fișierelor</a>
  </li>
  <li class="next">
    <a href="improve-cli-summary.html"
       title="next chapter"><span class="section-number">5. </span>Sumar: Îmbunătățirea lucrului în linia de comandă →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main">
            
  <section id="o-intelegere-mai-buna-a-shellului">
<span id="improve-cli-improve-shell"></span><h1><span class="section-number">4. </span>O înțelegere mai bună a shellului<a class="headerlink" href="#o-intelegere-mai-buna-a-shellului" title="Link to this heading">¶</a></h1>
<section id="configurarea-shellului-bash">
<h2><span class="section-number">4.1. </span>Configurarea shellului Bash<a class="headerlink" href="#configurarea-shellului-bash" title="Link to this heading">¶</a></h2>
<p>Așa cum am menționat în secțiunea Configurarea rulării aplicațiilor, modul în care o aplicație rulează este configurabil.
Fișierul de configurare al shellului <strong>Bash</strong> este <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>.
În directorul home al fiecărui utilizator se găsește un fișier <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code>.
Există câte un fișier <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> în directorul home al fiecărui utilizator pentru a le permite utilizatorilor să își personalizeze comportamentul shellului lor Bash, fără a intra în conflict cu configurările Bash ale altor utilizatori din sistem.
Atunci când un utilizator pornește un shell Bash, conținutul fișierului <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> este citit și sunt aplicate configurările specifice utilizatorului.</p>
<p>Shellul <em>Bash</em>, ca majoritatea programelor, vine cu un set de configurări implicite (default), care nu sunt pe placul tuturor utilizatorilor.
Prin fișierul <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> utilizatorul poate modifica setul default astfel încât să se potrivească cu stilul său: un exemplu des întâlnit este modificarea dimensiunii istoricului de comenzi.</p>
<section id="modificarea-dimensiunii-istoricului">
<h3><span class="section-number">4.1.1. </span>Modificarea dimensiunii istoricului<a class="headerlink" href="#modificarea-dimensiunii-istoricului" title="Link to this heading">¶</a></h3>
<p>Inspectăm conținutul fișierului <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> folosind comanda următoare:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>less<span class="w"> </span>~/.bashrc
</pre></div>
</div>
<p>În sesiunea interactivă <code class="docutils literal notranslate"><span class="pre">less</span></code> căutăm după cuvântul <code class="docutils literal notranslate"><span class="pre">HISTSIZE</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>...<span class="o">]</span>
<span class="c1"># for setting history length see HISTSIZE and HISTFILESIZE in bash(1)</span>
<span class="nv">HISTSIZE</span><span class="o">=</span><span class="m">1000</span>
<span class="nv">HISTFILESIZE</span><span class="o">=</span><span class="m">2000</span>
<span class="o">[</span>...<span class="o">]</span>
</pre></div>
</div>
<p>Shellul Bash reține istoricul de comenzi în fișierul <code class="docutils literal notranslate"><span class="pre">~/.bash_history</span></code> din directorul home al fiecărui utilizator.
Valorile variabilelor <code class="docutils literal notranslate"><span class="pre">HISTSIZE</span></code> și <code class="docutils literal notranslate"><span class="pre">HISTFILESIZE</span></code> limitează numărul maxim de comenzi, respectiv linii, din fișierul <code class="docutils literal notranslate"><span class="pre">~/.bash_history</span></code>.
Dacă vrem să avem un istoric nelimitat putem seta valoarea variabilelor la un număr negativ.</p>
<p><strong>Exercițiu</strong>: Deschideți fișierul <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> în editorul preferat și atribuiți valoarea <code class="docutils literal notranslate"><span class="pre">-1</span></code> pentru <code class="docutils literal notranslate"><span class="pre">HISTSIZE</span></code> și <code class="docutils literal notranslate"><span class="pre">HISTFILESIZE</span></code>.
Salvați modificările făcute.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Atenție!
<strong>Nu</strong> trebuie să existe spațiu între numele variabilei, <code class="docutils literal notranslate"><span class="pre">=</span></code> și valoarea atribuită.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Pentru a afla mai multe despre valorile <code class="docutils literal notranslate"><span class="pre">HISTSIZE</span></code> și <code class="docutils literal notranslate"><span class="pre">HISTFILESIZE</span></code> accesați pagina de manual a shellului Bash (<code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">bash</span></code>) și căutați după numele variabilelor.</p>
</div>
</section>
<section id="vizualizarea-aliasurilor-predefinite">
<h3><span class="section-number">4.1.2. </span>Vizualizarea aliasurilor predefinite<a class="headerlink" href="#vizualizarea-aliasurilor-predefinite" title="Link to this heading">¶</a></h3>
<p>Pentru a înțelege ce este un <strong>alias</strong>, rulăm comanda de mai jos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span><span class="nb">alias</span><span class="w"> </span>ls
<span class="nb">alias</span><span class="w"> </span><span class="nv">ls</span><span class="o">=</span><span class="s1">&#39;ls --color=auto&#39;</span>
</pre></div>
</div>
<p>Un alias este un nume (<em>placeholder</em>) care înlocuiește un șir de caractere.
Atunci când scriem în terminal numele unei comenzi, dacă numele scris este un alias, numele comenzii va fi înlocuit cu șirul de caractere definit în alias.
Cu alte cuvinte, atunci când executăm comanda <code class="docutils literal notranslate"><span class="pre">ls</span></code> în shellul Bash, de fapt executăm comanda <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">--color=auto</span></code>.
Opțiunea <code class="docutils literal notranslate"><span class="pre">--color=auto</span></code> este cea care ne colorează rezultatul comenzii <code class="docutils literal notranslate"><span class="pre">ls</span></code>.</p>
<p>Pentru a vedea toate aliasurile definite în instanța curentă de Bash, folosim comanda <code class="docutils literal notranslate"><span class="pre">alias</span></code>, ca în exemplul de mai jos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span><span class="nb">alias</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">alert</span><span class="o">=</span><span class="s1">&#39;notify-send --urgency=low -i &quot;$([ $? = 0 ] &amp;&amp; echo terminal || echo error)&quot; &quot;$(history|tail -n1|sed -e &#39;</span><span class="se">\&#39;</span><span class="s1">&#39;s/^\s*[0-9]\+\s*//;s/[;&amp;|]\s*alert$//&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;)&quot;&#39;</span>
<span class="nb">alias</span><span class="w"> </span>boot-cli<span class="o">=</span><span class="s1">&#39;systemctl set-default multi-user.target&#39;</span>
<span class="nb">alias</span><span class="w"> </span>boot-gui<span class="o">=</span><span class="s1">&#39;systemctl set-default graphical.target&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">cal</span><span class="o">=</span><span class="s1">&#39;ncal -M&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">egrep</span><span class="o">=</span><span class="s1">&#39;egrep --color=auto&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">fgrep</span><span class="o">=</span><span class="s1">&#39;fgrep --color=auto&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">gigt</span><span class="o">=</span><span class="s1">&#39;git&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">gpre</span><span class="o">=</span><span class="s1">&#39;grep&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">grep</span><span class="o">=</span><span class="s1">&#39;grep --color=auto&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">grpe</span><span class="o">=</span><span class="s1">&#39;grep&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">gti</span><span class="o">=</span><span class="s1">&#39;git&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">l</span><span class="o">=</span><span class="s1">&#39;ls -CF&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">la</span><span class="o">=</span><span class="s1">&#39;ls -A&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">ll</span><span class="o">=</span><span class="s1">&#39;ls -alF&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">ls</span><span class="o">=</span><span class="s1">&#39;ls --color=auto&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">ncal</span><span class="o">=</span><span class="err">&#39;</span>ncal<span class="w"> </span>-M
</pre></div>
</div>
<p>Observăm că atât <code class="docutils literal notranslate"><span class="pre">grep</span></code> cât și <code class="docutils literal notranslate"><span class="pre">egrep</span></code> au câte un alias pentru opțiunea <code class="docutils literal notranslate"><span class="pre">--color</span></code>, care în cazul acesta evidenția expresia găsită.
Putem defini un alias și pentru un typo pe care îl facem des, așa cum este cazul pentru <code class="docutils literal notranslate"><span class="pre">gti</span></code>, un alias pentru comanda <code class="docutils literal notranslate"><span class="pre">git</span></code>.</p>
<p>O parte din aceste aliasuri sunt definite în fișierul <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>, iar altele în fișierul <code class="docutils literal notranslate"><span class="pre">~/.bash_aliases</span></code>.
Conținutul fișierului <code class="docutils literal notranslate"><span class="pre">~/.bash_aliases</span></code> este inclus de către fișierul <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> la pornirea shellului Bash.
Astfel, pentru o organizare mai bună, este recomandat ca utilizatorul să-și definească aliasurile în fișierul <code class="docutils literal notranslate"><span class="pre">~/.bash_aliases</span></code>.</p>
<p>Putem observa acest lucru folosind comanda următoare:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>grep<span class="w"> </span><span class="nb">alias</span><span class="w"> </span>~/.bashrc
<span class="c1"># enable color support of ls and also add handy aliases</span>
<span class="w">    </span><span class="nb">alias</span><span class="w"> </span><span class="nv">ls</span><span class="o">=</span><span class="s1">&#39;ls --color=auto&#39;</span>
<span class="w">    </span><span class="c1">#alias dir=&#39;dir --color=auto&#39;</span>
<span class="w">    </span><span class="c1">#alias vdir=&#39;vdir --color=auto&#39;</span>
<span class="w">    </span><span class="nb">alias</span><span class="w"> </span><span class="nv">grep</span><span class="o">=</span><span class="s1">&#39;grep --color=auto&#39;</span>
<span class="w">    </span><span class="nb">alias</span><span class="w"> </span><span class="nv">fgrep</span><span class="o">=</span><span class="s1">&#39;fgrep --color=auto&#39;</span>
<span class="w">    </span><span class="nb">alias</span><span class="w"> </span><span class="nv">egrep</span><span class="o">=</span><span class="s1">&#39;egrep --color=auto&#39;</span>
<span class="o">[</span>...<span class="o">]</span>

student@uso:~$<span class="w"> </span>cat<span class="w"> </span>~/.bash_aliases
<span class="nb">alias</span><span class="w"> </span><span class="nv">grep</span><span class="o">=</span><span class="s1">&#39;grep --color=auto&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">grpe</span><span class="o">=</span><span class="s1">&#39;grep&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">gpre</span><span class="o">=</span><span class="s1">&#39;grep&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">gti</span><span class="o">=</span><span class="s1">&#39;git&#39;</span>
<span class="o">[</span>...<span class="o">]</span>
</pre></div>
</div>
</section>
<section id="definirea-unui-alias">
<h3><span class="section-number">4.1.3. </span>Definirea unui alias<a class="headerlink" href="#definirea-unui-alias" title="Link to this heading">¶</a></h3>
<p>Utilitarul <code class="docutils literal notranslate"><span class="pre">xdg-open</span></code> primește calea către un fișier și deschide fișierul respectiv cu aplicația asociată tipului de fișier.
Astfel, comanda <code class="docutils literal notranslate"><span class="pre">xdg-open</span> <span class="pre">image.png</span></code> va deschide imaginea <strong>image.png</strong> cu aplicația asociată deschiderii formatului <strong>PNG</strong>.
Putem să folosim și un URL ca argument al comenzii <code class="docutils literal notranslate"><span class="pre">xdg-open</span></code>; astfel, comanda <code class="docutils literal notranslate"><span class="pre">xdg-open</span> <span class="pre">https://www.google.com</span></code> va deschide pagina Google în browserul vostru implicit.</p>
<p>Ne dorim să definim aliasul <code class="docutils literal notranslate"><span class="pre">go</span></code> pentru comanda <code class="docutils literal notranslate"><span class="pre">xdg-open</span></code>.
Adăugați linia <code class="docutils literal notranslate"><span class="pre">alias</span> <span class="pre">go='xdg-open'</span></code> în fișierul <code class="docutils literal notranslate"><span class="pre">~/.bash_aliases</span></code> și salvați modificările.</p>
<p>Dacă încercăm să folosim aliasul proaspăt definit, vom primi o eroare similară cu cea de mai jos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>go<span class="w"> </span>https://www.google.com

Command<span class="w"> </span><span class="s1">&#39;go&#39;</span><span class="w"> </span>not<span class="w"> </span>found,<span class="w"> </span>did<span class="w"> </span>you<span class="w"> </span>mean:

<span class="w">  </span><span class="nb">command</span><span class="w"> </span><span class="s1">&#39;go&#39;</span><span class="w"> </span>from<span class="w"> </span>snap<span class="w"> </span>go<span class="w"> </span><span class="o">(</span><span class="m">1</span>.15.3<span class="o">)</span>
<span class="w">  </span><span class="nb">command</span><span class="w"> </span><span class="s1">&#39;mco&#39;</span><span class="w"> </span>from<span class="w"> </span>deb<span class="w"> </span>mcollective-client
<span class="w">  </span><span class="nb">command</span><span class="w"> </span><span class="s1">&#39;mgb&#39;</span><span class="w"> </span>from<span class="w"> </span>deb<span class="w"> </span>mathicgb
<span class="w">  </span><span class="nb">command</span><span class="w"> </span><span class="s1">&#39;mgp&#39;</span><span class="w"> </span>from<span class="w"> </span>deb<span class="w"> </span>mgp
<span class="w">  </span><span class="nb">command</span><span class="w"> </span><span class="s1">&#39;mgt&#39;</span><span class="w"> </span>from<span class="w"> </span>deb<span class="w"> </span>mgt
<span class="o">[</span>...<span class="o">]</span>
</pre></div>
</div>
<p>Acest lucru se întâmplă din cauză că fișierul <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> este citit atunci când pornim o instanță de Bash (când deschidem un terminal).
Ca să recitim fișierul, și să aplicăm modificările, folosim comanda <code class="docutils literal notranslate"><span class="pre">source</span></code>, ca în exemplul de mai jos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>~/.bashrc
student@uso:~$<span class="w"> </span>go<span class="w"> </span>https://www.google.com
</pre></div>
</div>
<p>Comanda <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">~/.bashrc</span></code> a avut ca efect citirea și aplicarea modificărilor definite în fișierul <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> și fișierele pe care acesta le include.</p>
</section>
</section>
<section id="executia-comenzilor">
<h2><span class="section-number">4.2. </span>Execuția comenzilor<a class="headerlink" href="#executia-comenzilor" title="Link to this heading">¶</a></h2>
<section id="incheierea-executiei-unei-comenzi">
<h3><span class="section-number">4.2.1. </span>Încheierea execuției unei comenzi<a class="headerlink" href="#incheierea-executiei-unei-comenzi" title="Link to this heading">¶</a></h3>
<p>Atunci când rulăm o comandă aceasta își poate încheia execuția în două moduri: cu <strong>succes</strong> sau cu <strong>eșec</strong>.
Atunci când își încheie execuția, orice proces întoarce un cod de ieșire (exit code), care este un număr:</p>
<ul>
<li><p>Dacă numărul întors are valoarea <code class="docutils literal notranslate"><span class="pre">0</span></code>, procesul și-a încheiat execuția cu succes.</p></li>
<li><p>Dacă numărul întors are orice altă valoare, procesul și-a încheiat execuția cu eroare, iar codul întors poate fi folosit pentru a afla mai multe informații despre eroarea pe care a întors-o procesul.
În pagina <code class="docutils literal notranslate"><span class="pre">man</span></code> a utilitarului <code class="docutils literal notranslate"><span class="pre">ls</span></code> este specificat:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Exit<span class="w"> </span>status:
<span class="w">       </span><span class="m">0</span><span class="w">      </span><span class="k">if</span><span class="w"> </span>OK,

<span class="w">       </span><span class="m">1</span><span class="w">      </span><span class="k">if</span><span class="w"> </span>minor<span class="w"> </span>problems<span class="w"> </span><span class="o">(</span>e.g.,<span class="w"> </span>cannot<span class="w"> </span>access<span class="w"> </span>subdirectory<span class="o">)</span>,

<span class="w">       </span><span class="m">2</span><span class="w">      </span><span class="k">if</span><span class="w"> </span>serious<span class="w"> </span>trouble<span class="w"> </span><span class="o">(</span>e.g.,<span class="w"> </span>cannot<span class="w"> </span>access<span class="w"> </span>command-line<span class="w"> </span>argument<span class="o">)</span>.
</pre></div>
</div>
</li>
</ul>
<p>Pentru a vedea codul cu care și-a încheiat execuția o comandă folosim sintaxa <code class="docutils literal notranslate"><span class="pre">$?</span></code>, așa cum observăm în exemplul de mai jos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>ls<span class="w"> </span>Desktop/
todos.txt
student@uso:~$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$?</span>
<span class="m">0</span>
student@uso:~$<span class="w"> </span>ls<span class="w"> </span>non-existent
ls:<span class="w"> </span>cannot<span class="w"> </span>access<span class="w"> </span><span class="s1">&#39;non-existent&#39;</span>:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
student@uso:~$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$?</span>
<span class="m">2</span>
</pre></div>
</div>
<p>Observăm că în cazul fișierului inexistent, comanda <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">non-existent</span></code> a întors valoarea <code class="docutils literal notranslate"><span class="pre">2</span></code>, așa cum era specificat și în pagina de manual.</p>
<section id="inlantuirea-comenzilor-in-functie-de-succes-sau-esec">
<span id="improve-cli-improve-shell-oneliners"></span><h4><span class="section-number">4.2.1.1. </span>Înlănțuirea comenzilor în funcție de succes sau eșec<a class="headerlink" href="#inlantuirea-comenzilor-in-functie-de-succes-sau-esec" title="Link to this heading">¶</a></h4>
<p>De multe ori vrem să executăm o succesiune de comenzi pentru a realiza o sarcină.
De exemplu, atunci când vrem să instalăm o aplicație o rulăm trei comenzi:</p>
<ul class="simple">
<li><p>O să actualizăm indexul surselor de pachete folosind <code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">update</span></code></p></li>
<li><p>O să instalăm pachetul care conține aplicația folosind <code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">install</span></code></p></li>
<li><p>O să rulăm aplicația pentru a valida că instalarea a fost cu succes.</p></li>
</ul>
<p>Preferăm să înlănțuim cele trei comenzi într-una singură pentru că astfel putem să pornim tot acest proces, să plecăm de la calculator, iar când ne întoarcem avem tot sistemul pregătit.</p>
<p>Pentru a înlănțui comenzi în shellul Bash avem trei operatori disponibili:</p>
<ul>
<li><p>Operatorul <code class="docutils literal notranslate"><span class="pre">;</span></code> - este folosit pentru separarea comenzilor
Urmăm exemplul de mai jos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>mkdir<span class="w"> </span>demo<span class="p">;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>demo<span class="p">;</span><span class="w"> </span>touch<span class="w"> </span>Hello<span class="p">;</span><span class="w"> </span>ls
Hello
</pre></div>
</div>
<p>În exemplul de mai sus am creat directorul <code class="docutils literal notranslate"><span class="pre">demo</span></code>, am navigat în interiorul său, am creat fișierul <code class="docutils literal notranslate"><span class="pre">Hello</span></code> și am afișat conținutul directorului.
Am făcut toate acestea înlănțuind comenzile <code class="docutils literal notranslate"><span class="pre">mkdir</span></code>, <code class="docutils literal notranslate"><span class="pre">cd</span></code>, <code class="docutils literal notranslate"><span class="pre">touch</span></code> și <code class="docutils literal notranslate"><span class="pre">ls</span></code> cu ajutorul operatorului <code class="docutils literal notranslate"><span class="pre">;</span></code>.</p>
<p>Operatorul <code class="docutils literal notranslate"><span class="pre">;</span></code> este folosit pentru separarea comenzilor, dar nu ține cont dacă comenzile anterioare au fost executate cu succes sau nu.
Urmăm exemplul de mai jos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>mkdir<span class="w"> </span>operators/demo<span class="p">;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>operators/demo
mkdir:<span class="w"> </span>cannot<span class="w"> </span>create<span class="w"> </span>directory<span class="w"> </span>‘operators/demo’:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
-bash:<span class="w"> </span>cd:<span class="w"> </span>operators/demo:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
</pre></div>
</div>
<p>În exemplul de mai sus, comanda <code class="docutils literal notranslate"><span class="pre">mkdir</span></code> a eșuat deoarece nu a găsit directorul <code class="docutils literal notranslate"><span class="pre">operators</span></code> în care să creeze directorul <code class="docutils literal notranslate"><span class="pre">demo</span></code>. Cu toate acestea, operatorul <code class="docutils literal notranslate"><span class="pre">;</span></code> doar separă comenzile între ele, așa că și comanda <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">operators/demo</span></code> a fost executată, și și aceasta a eșuat deoarece nu există calea <code class="docutils literal notranslate"><span class="pre">operators/demo</span></code>.</p>
<p>Folosim operatorul <code class="docutils literal notranslate"><span class="pre">;</span></code> pentru a înlănțui comenzi care sunt independente unele de altele, și deci execuția lor nu depinde de succesul unei comenzi precedente.</p>
</li>
<li><p>Operatorul binar <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> (și logic) - execută a doua comandă doar dacă precedenta s-a executat cu succes.
Exemplul anterior devine:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>mkdir<span class="w"> </span>operators/demo<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>operators/demo
mkdir:<span class="w"> </span>cannot<span class="w"> </span>create<span class="w"> </span>directory<span class="w"> </span>‘operators/demo’:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
</pre></div>
</div>
<p>Observăm că din moment ce comanda <code class="docutils literal notranslate"><span class="pre">mkdir</span></code> a eșuat, comanda <code class="docutils literal notranslate"><span class="pre">cd</span></code> nu a mai fost executată.</p>
</li>
<li><p>Operatorul binar <code class="docutils literal notranslate"><span class="pre">||</span></code> (sau logic) - execută a doua comandă doar dacă prima s-a terminat cu eșec.
Urmărim exemplul de mai jos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span><span class="o">(</span>ls<span class="w"> </span>-d<span class="w"> </span>operators<span class="w"> </span><span class="o">||</span><span class="w"> </span>mkdir<span class="w"> </span>operators<span class="o">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>ls<span class="w"> </span>-d<span class="w"> </span>operators
ls:<span class="w"> </span>cannot<span class="w"> </span>access<span class="w"> </span><span class="s1">&#39;operators&#39;</span>:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
operators
student@uso:~$<span class="w"> </span><span class="o">(</span>ls<span class="w"> </span>-d<span class="w"> </span>operators<span class="w"> </span><span class="o">||</span><span class="w"> </span>mkdir<span class="w"> </span>operators<span class="o">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>ls<span class="w"> </span>-d<span class="w"> </span>operators
operators
operators
</pre></div>
</div>
<p>În exemplul de mai sus, prima comandă <code class="docutils literal notranslate"><span class="pre">ls</span></code> a eșuat, așa că a fost executată comanda <code class="docutils literal notranslate"><span class="pre">mkdir</span></code> și apoi a fost executată ultima comandă <code class="docutils literal notranslate"><span class="pre">ls</span></code>.
La cea de-a doua rulare, a fost executată cu succes prima comandă <code class="docutils literal notranslate"><span class="pre">ls</span></code>, așa că comanda <code class="docutils literal notranslate"><span class="pre">mkdir</span></code> nu a mai fost executată, și apoi a fost executată ultima comandă <code class="docutils literal notranslate"><span class="pre">ls</span></code>.</p>
</li>
</ul>
<p>Pentru a rezolva scenariul de la care am plecat inițial, putem rula:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>cowsay<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cowsay<span class="w"> </span><span class="s2">&quot;Howdy&quot;</span>
</pre></div>
</div>
<p>Comanda de mai sus va actualiza indexul pachetelor sursă, va instala pachetul <code class="docutils literal notranslate"><span class="pre">cowsay</span></code> și va rula comanda <code class="docutils literal notranslate"><span class="pre">cowsay</span></code> pentru a valida instalarea.
O astfel de înlănțuire de comenzi este numită <strong>oneliner</strong>.</p>
</section>
<section id="exercitii">
<h4><span class="section-number">4.2.1.2. </span>Exerciții<a class="headerlink" href="#exercitii" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p>Scrieți un oneliner cu ajutorul căruia descărcați arhiva tar de la adresa TODO, creați directorul <code class="docutils literal notranslate"><span class="pre">~/operators/demo/tar</span></code> și apoi dezarhivați conținutul în directorul creat.</p></li>
<li><p>Actualizați onelinerul anterior astfel încât, după dezarhivare, să pornească compilarea proiectului folosind comanda <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">build</span></code>.</p></li>
</ol>
</section>
</section>
<section id="inlantuirea-comenzilor-folosind-operatorul-pipe">
<h3><span class="section-number">4.2.2. </span>Înlănțuirea comenzilor folosind operatorul <code class="docutils literal notranslate"><span class="pre">|</span></code> (pipe)<a class="headerlink" href="#inlantuirea-comenzilor-folosind-operatorul-pipe" title="Link to this heading">¶</a></h3>
<p>Așa cum am descoperit în secțiunile și capitolele anterioare, în mediul Linux avem multe utilitare care rezolvă o nevoie specifică: <code class="docutils literal notranslate"><span class="pre">ls</span></code> afișează informații despre fișiere, <code class="docutils literal notranslate"><span class="pre">ps</span></code> despre procese, <code class="docutils literal notranslate"><span class="pre">grep</span></code> filtrează, etc.
Toate acestea au la bază filozofia mediului Linux: “do one thing and do it well”.
Ca întodeauna, frumusețea stă în simplitate: avem o suită de unelte la dispoziție, fiecare capabilă să rezolve rapid o sarcină dată; pentru a rezolva o problemă mai complexă trebuie doar să îmbinăm uneltele.</p>
<p>Operatorul <code class="docutils literal notranslate"><span class="pre">|</span></code> (pipe) ne ajută să facem acest lucru.
Atunci când folosim operatorul <code class="docutils literal notranslate"><span class="pre">|</span></code> preluăm rezultatul comenzii din stânga operatorului și îl oferim ca intrare comenzii aflate în dreapta operatorului.</p>
<p>Am folosit de mai multe ori operatorul <code class="docutils literal notranslate"><span class="pre">|</span></code> până acum:</p>
<ul>
<li><p>Am afișat informații despre procesele din sistem și am filtrat după numele unui proces:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>ps<span class="w"> </span>-e<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>firefox
<span class="m">14912</span><span class="w"> </span>pts/0<span class="w">    </span><span class="m">00</span>:00:19<span class="w"> </span>firefox
</pre></div>
</div>
</li>
<li><p>Am extras primele zece procese care consumă cel mai mare procent de memorie:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>ps<span class="w"> </span>-e<span class="w"> </span>-ouser,uid,pid,%mem,%cpu,rss,cmd<span class="w"> </span>--sort<span class="o">=</span>-%mem<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-11
USER<span class="w">       </span>UID<span class="w">   </span>PID<span class="w"> </span>%MEM<span class="w"> </span>%CPU<span class="w">   </span>RSS<span class="w"> </span>CMD
student<span class="w">   </span><span class="m">1000</span><span class="w">  </span><span class="m">7938</span><span class="w"> </span><span class="m">18</span>.0<span class="w">  </span><span class="m">0</span>.1<span class="w"> </span><span class="m">367952</span><span class="w"> </span>/usr/bin/gnome-shell
student<span class="w">   </span><span class="m">1000</span><span class="w">  </span><span class="m">8437</span><span class="w">  </span><span class="m">8</span>.4<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">171916</span><span class="w"> </span>/usr/bin/gnome-software<span class="w"> </span>--gapplication-service
student<span class="w">   </span><span class="m">1000</span><span class="w">  </span><span class="m">7782</span><span class="w">  </span><span class="m">3</span>.9<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">81312</span><span class="w"> </span>/usr/lib/xorg/Xorg<span class="w"> </span>vt1<span class="w"> </span>-displayfd<span class="w"> </span><span class="m">3</span><span class="w"> </span>-auth<span class="w"> </span>/run/user/1000/gdm/Xauthority<span class="w"> </span>-background<span class="w"> </span>none<span class="w"> </span>-noreset<span class="w"> </span>-keeptty<span class="w"> </span>-verbose<span class="w"> </span><span class="m">3</span>
root<span class="w">         </span><span class="m">0</span><span class="w">  </span><span class="m">1338</span><span class="w">  </span><span class="m">3</span>.8<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">78880</span><span class="w"> </span>/usr/bin/dockerd<span class="w"> </span>-H<span class="w"> </span>fd://<span class="w"> </span>--containerd<span class="o">=</span>/run/containerd/containerd.sock
student<span class="w">   </span><span class="m">1000</span><span class="w">  </span><span class="m">8307</span><span class="w">  </span><span class="m">3</span>.1<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">64628</span><span class="w"> </span>/usr/lib/evolution/evolution-calendar-factory
student<span class="w">   </span><span class="m">1000</span><span class="w">  </span><span class="m">8338</span><span class="w">  </span><span class="m">3</span>.0<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">61860</span><span class="w"> </span>/usr/lib/evolution/evolution-calendar-factory-subprocess<span class="w"> </span>--factory<span class="w"> </span>all<span class="w"> </span>--bus-name<span class="w"> </span>org.gnome.evolution.dataserver.Subprocess.Backend.Calendarx8307x2<span class="w"> </span>--own-path<span class="w"> </span>/org/gnome/evolution/dataserver/Subprocess/Backend/Calendar/8307/2
root<span class="w">         </span><span class="m">0</span><span class="w">   </span><span class="m">336</span><span class="w">  </span><span class="m">2</span>.6<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">53612</span><span class="w"> </span>/lib/systemd/systemd-journald
student<span class="w">   </span><span class="m">1000</span><span class="w">  </span><span class="m">8274</span><span class="w">  </span><span class="m">2</span>.3<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">48296</span><span class="w"> </span>nautilus-desktop
root<span class="w">         </span><span class="m">0</span><span class="w">  </span><span class="m">1074</span><span class="w">  </span><span class="m">2</span>.2<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">45460</span><span class="w"> </span>/usr/bin/containerd
student<span class="w">   </span><span class="m">1000</span><span class="w"> </span><span class="m">12966</span><span class="w">  </span><span class="m">1</span>.8<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">38216</span><span class="w"> </span>/usr/lib/gnome-terminal/gnome-terminal-server
</pre></div>
</div>
</li>
</ul>
</section>
<section id="redirectari">
<h3><span class="section-number">4.2.3. </span>Redirectări<a class="headerlink" href="#redirectari" title="Link to this heading">¶</a></h3>
<p>Majoritatea utilitarelor pe care le folosim afișează rezultatele operațiilor pe care le aplică la ieșirea standard, adică pe ecran.
În continuare vom aprofunda ceea ce am discutat despre redirectări în capitolul <strong>Lucrul cu Fișiere</strong>.
Anterior am mai menționat și termenul de intrare standard; în această secțiune ne vom clarifica ce înseamnă, ce rol îndeplinesc și cum ne folosim de aceste cunoștințe.</p>
<p>Orice proces folosește implicit trei fluxuri (streams) de date:</p>
<ul class="simple">
<li><p><strong>STDIN</strong> - fluxul de intrare standard, referit și ca “citit de la tastatură”.
Spunem că un program care citește date de intrare din linie de comandă, deci așteaptă de la utilizator, citește de la intrarea standard; de aici și denumirea “citit de la tastatură”.
Complementul citirii de la tastatură este citirea datelor dintr-un fișier.</p></li>
<li><p><strong>STDOUT</strong> - fluxul de ieșire standard, referit și ca “afișare pe ecran”.
Spunem că un program afișează datele de ieșire pe ecran, adică scrie rezultatele procesărilor efectuate la ieșirea standard.
Complementul afișării pe ecran este scrierea rezultatelor într-un fișier.</p></li>
<li><p><strong>STDERR</strong> - fluxul de ieșire standard al erorilor.
Un program corect scris o să scrie erorile în fluxul de ieșire al erorilor.
Acest lucru permite filtrarea erorilor.</p></li>
</ul>
<p>În linie de comandă, atât STDOUT cât și STDERR vor apărea pe ecran.
Datorită faptului că informațiile sunt scrise în două fluxuri distincte, utilizatorul are posibilitatea de a separa rezultatele de erori.
Utilizatorul face aceasta folosind redirectări.</p>
<section id="redirectarea-iesirilor-standard">
<h4><span class="section-number">4.2.3.1. </span>Redirectarea ieșirilor standard<a class="headerlink" href="#redirectarea-iesirilor-standard" title="Link to this heading">¶</a></h4>
<p>Cum spuneam mai sus, majoritatea programelor pe care le folosim vor afișa rezultatele pe ecran.
Acest comportament este bun atunci când ne scriem onelinerul care ne extrage informațiile căutate, dar cel mai probabil o să vrem să salvăm rezultatul procesării într-un fișier.</p>
<p>Pentru fiecare flux de date avem un număr, numit descriptor de fișier, asociat:</p>
<ul class="simple">
<li><p><strong>STDIN</strong> are asociat descriptorul de fișier 0</p></li>
<li><p><strong>STDOUT</strong> are asociat descriptorul de fișier 1</p></li>
<li><p><strong>STDERR</strong> are asociat descriptorul de fișier 2</p></li>
</ul>
<p>Pentru a redirecta ieșirea standard folosim sintaxa <code class="docutils literal notranslate"><span class="pre">cmd</span> <span class="pre">1&gt;</span> <span class="pre">nume-fișier</span></code>.
Pentru a redirecta ieșirea standard a erorilor folosim sintaxa <code class="docutils literal notranslate"><span class="pre">cmd</span> <span class="pre">2&gt;</span> <span class="pre">nume-fișier</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Atenție!</strong>
În cazul în care fișierul destinație nu există, operatorul <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> îl va crea.
Dacă fișierul destinație există, operatorul <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> va suprascrie conținutul acestuia.</p>
</div>
<p>Urmăm exemplul de mai jos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>ps<span class="w"> </span>-e<span class="w"> </span>-ouser,uid,pid,%mem,%cpu,rss,cmd<span class="w"> </span>--sort<span class="o">=</span>-%mem<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-11
USER<span class="w">       </span>UID<span class="w">   </span>PID<span class="w"> </span>%MEM<span class="w"> </span>%CPU<span class="w">   </span>RSS<span class="w"> </span>CMD
student<span class="w">   </span><span class="m">1000</span><span class="w">  </span><span class="m">7938</span><span class="w"> </span><span class="m">18</span>.0<span class="w">  </span><span class="m">0</span>.1<span class="w"> </span><span class="m">367952</span><span class="w"> </span>/usr/bin/gnome-shell
student<span class="w">   </span><span class="m">1000</span><span class="w">  </span><span class="m">8437</span><span class="w">  </span><span class="m">8</span>.4<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">171916</span><span class="w"> </span>/usr/bin/gnome-software<span class="w"> </span>--gapplication-service
student<span class="w">   </span><span class="m">1000</span><span class="w">  </span><span class="m">7782</span><span class="w">  </span><span class="m">3</span>.9<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">81312</span><span class="w"> </span>/usr/lib/xorg/Xorg<span class="w"> </span>vt1<span class="w"> </span>-displayfd<span class="w"> </span><span class="m">3</span><span class="w"> </span>-auth<span class="w"> </span>/run/user/1000/gdm/Xauthority<span class="w"> </span>-background<span class="w"> </span>none<span class="w"> </span>-noreset<span class="w"> </span>-keeptty<span class="w"> </span>-verbose<span class="w"> </span><span class="m">3</span>
root<span class="w">         </span><span class="m">0</span><span class="w">  </span><span class="m">1338</span><span class="w">  </span><span class="m">3</span>.8<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">78880</span><span class="w"> </span>/usr/bin/dockerd<span class="w"> </span>-H<span class="w"> </span>fd://<span class="w"> </span>--containerd<span class="o">=</span>/run/containerd/containerd.sock
student<span class="w">   </span><span class="m">1000</span><span class="w">  </span><span class="m">8307</span><span class="w">  </span><span class="m">3</span>.1<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">64628</span><span class="w"> </span>/usr/lib/evolution/evolution-calendar-factory
student<span class="w">   </span><span class="m">1000</span><span class="w">  </span><span class="m">8338</span><span class="w">  </span><span class="m">3</span>.0<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">61860</span><span class="w"> </span>/usr/lib/evolution/evolution-calendar-factory-subprocess<span class="w"> </span>--factory<span class="w"> </span>all<span class="w"> </span>--bus-name<span class="w"> </span>org.gnome.evolution.dataserver.Subprocess.Backend.Calendarx8307x2<span class="w"> </span>--own-path<span class="w"> </span>/org/gnome/evolution/dataserver/Subprocess/Backend/Calendar/8307/2
root<span class="w">         </span><span class="m">0</span><span class="w">   </span><span class="m">336</span><span class="w">  </span><span class="m">2</span>.6<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">53612</span><span class="w"> </span>/lib/systemd/systemd-journald
student<span class="w">   </span><span class="m">1000</span><span class="w">  </span><span class="m">8274</span><span class="w">  </span><span class="m">2</span>.3<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">48296</span><span class="w"> </span>nautilus-desktop
root<span class="w">         </span><span class="m">0</span><span class="w">  </span><span class="m">1074</span><span class="w">  </span><span class="m">2</span>.2<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">45460</span><span class="w"> </span>/usr/bin/containerd
student<span class="w">   </span><span class="m">1000</span><span class="w"> </span><span class="m">12966</span><span class="w">  </span><span class="m">1</span>.8<span class="w">  </span><span class="m">0</span>.0<span class="w"> </span><span class="m">38216</span><span class="w"> </span>/usr/lib/gnome-terminal/gnome-terminal-server
student@uso:~$<span class="w"> </span>ps<span class="w"> </span>-e<span class="w"> </span>-ouser,uid,pid,%mem,%cpu,rss,cmd<span class="w"> </span>--sort<span class="o">=</span>-%mem<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-11<span class="w"> </span><span class="m">1</span>&gt;<span class="w"> </span>top10-consumers
student@uso:~$<span class="w"> </span>less<span class="w"> </span>top10-consumers
</pre></div>
</div>
<p>Am scris, prin încercări succesive, onelinerul care ne afișează primele zece procese care consumă cea mai multă memorie.
Apoi am folosit sintaxa <code class="docutils literal notranslate"><span class="pre">1&gt;</span> <span class="pre">top10-consumers</span></code> pentru a redirecta rezultatul în fișierul <strong>top10-consumers</strong>.</p>
<p>Urmăm exemplul de mai jos pentru a redirecta erorile:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>ls<span class="w"> </span>D*<span class="w"> </span>F*<span class="w"> </span>&gt;<span class="w"> </span>out<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>errs
student@uso:~$<span class="w"> </span>cat<span class="w"> </span>out
Desktop:
todos.txt

Documents:
snippets.git
uni
uso.tar

Downloads:
courses.tar
uso.tar
student@uso:~$<span class="w"> </span>cat<span class="w"> </span>errs
ls:<span class="w"> </span>cannot<span class="w"> </span>access<span class="w"> </span><span class="s1">&#39;F*&#39;</span>:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
</pre></div>
</div>
<p>Observăm că am folosit sintaxa <code class="docutils literal notranslate"><span class="pre">2&gt;</span> <span class="pre">errs</span></code> pentru a redirecta erorile în fișierul <strong>errs</strong>.
Observăm că pentru a redirecta ieșirea standard putem omite descriptorul de fișier, așa cum am făcut cu <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">out</span></code>.</p>
<p>Atunci când rulăm o comandă, redirectăm erorile într-un fișier pentru că vrem să verificăm că totul s-a executat cu succes.
De cele mai multe ori suntem în rumătorul scenariu:</p>
<ol class="arabic simple">
<li><p>Urmează să executăm o comandă care durează mai mult timp și pentru care nu putem să ținem pasul, cu ochiul liber, cu fluxul de afișare a datelor pe ecran.
Un exemplu este compilarea unui proiect mai mare.</p></li>
<li><p>O să pornim procesul și o să redirectăm STDOUT și STDERR în două fișiere, de ex. <code class="docutils literal notranslate"><span class="pre">out</span></code> și <code class="docutils literal notranslate"><span class="pre">err</span></code>.</p></li>
<li><p>În timpul cât rulează noi putem să facem altceva: ne ocupăm de altă sarcină, ne facem o cafea, etc.</p></li>
<li><p>La finalul execuției inspectăm fișierele <code class="docutils literal notranslate"><span class="pre">out</span></code> și <code class="docutils literal notranslate"><span class="pre">err</span></code> pentru a vedea dacă au existat erori și le rezolvăm.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Acum înțelegem cum funcționează operatorul <code class="docutils literal notranslate"><span class="pre">|</span></code> (pipe).
Acesta conectează fluxul de ieșire (STDOUT) al comenzii din stânga sa cu fluxul de intrare (STDIN) al comenzii din dreapta.</p>
</div>
</section>
<section id="redirectarea-in-mod-append">
<h4><span class="section-number">4.2.3.2. </span>Redirectarea în mod <em>append</em><a class="headerlink" href="#redirectarea-in-mod-append" title="Link to this heading">¶</a></h4>
<p>Implicit, operatorul <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> șterge (trunchează) conținutul fișierului destinație.
Dacă vrem să păstrăm conținutul fișierului și să adăugăm rezultatul redirectării în continuarea acestuia, folosim operatorul <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code>.</p>
<p>Rulați din nou exemplele de mai sus folosind operatorul <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code> în locul operatorului <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>.
Folosiți less pentru a inspecta fișierele de ieșire și de erori.</p>
</section>
<section id="redirectarea-erorilor-la-iesirea-standard">
<h4><span class="section-number">4.2.3.3. </span>Redirectarea erorilor la ieșirea standard<a class="headerlink" href="#redirectarea-erorilor-la-iesirea-standard" title="Link to this heading">¶</a></h4>
<p>Motivul pentru care redirectăm erorile într-un fișier este pentru că vrem să analizăm mesajele de eroare.
Avem și scenarii în care rulăm un program care afișează mesaje, la STDOUT și STDERR, de care nu suntem interesați.</p>
<p>Un astfel de scenariu întâlnim atunci când pornim browserul <code class="docutils literal notranslate"><span class="pre">firefox</span></code> în linia de comandă: acesta afișează din când în când mesaje de care nu suntem interesați.
Ne dorim să pornim procesul <code class="docutils literal notranslate"><span class="pre">firefox</span></code> în background și să redirectăm STDOUT și STDERR a.î. să nu ne polueze inutil consola.
Urmăm exemplul de mai jos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>firefox<span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>firefox-ignore<span class="w"> </span><span class="p">&amp;</span>
<span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w"> </span><span class="m">10349</span>
student@uso:~$<span class="w"> </span>firefox<span class="w"> </span>&gt;<span class="w"> </span>firefox-ignore<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span><span class="p">&amp;</span>
<span class="o">[</span><span class="m">2</span><span class="o">]</span><span class="w"> </span><span class="m">10595</span>
</pre></div>
</div>
<p>Cele două comenzi de mai sus produc aceelași efect: redirectează atât STDOUT, cât și STDERR în fișierul <strong>firefox-ignore</strong>.
Efectul este produs prin două metode diferite:</p>
<ul class="simple">
<li><p>Sintaxa <code class="docutils literal notranslate"><span class="pre">&amp;&gt;</span> <span class="pre">cale/către/nume-fișier</span></code> - operatorul <code class="docutils literal notranslate"><span class="pre">&amp;&gt;</span></code> va unifica fluxul STDERR cu STDOUT și va redirecta către fișierul primit ca argument.</p></li>
<li><p>Sintaxa `` &gt; cale/către/nume-fișier 2&gt;&amp;1`` - operatorul <code class="docutils literal notranslate"><span class="pre">2&gt;&amp;1</span></code> folosește descriptori de fișier și redirectează STDERR (descriptorul 2) în STDOUT (descriptorul 1).
Această sintaxă trebuie precedată de <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cale/către/nume-fișier</span></code>, pe care o citim: ceea ce se găsește pe fluxul de ieșire STDOUT va fi scris în fișierul <strong>cale/către/nume-fișier</strong>.</p></li>
</ul>
</section>
<section id="fisiere-speciale">
<h4><span class="section-number">4.2.3.4. </span>Fișiere speciale<a class="headerlink" href="#fisiere-speciale" title="Link to this heading">¶</a></h4>
<p>Pe sistemele Linux găsim un număr de fișiere speciale pe care le putem folosim în diferite scopuri:</p>
<ul>
<li><p>Fișierul <code class="docutils literal notranslate"><span class="pre">/dev/null</span></code> este un fișier care ignoră orice este scris în el.
Este echivalentul unei găuri negre în sistemul nostru.
Cu ajutorul său, putem rescrie exemplul de mai sus în modul următor:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>firefox<span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="p">&amp;</span>
<span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w"> </span><span class="m">10349</span>
student@uso:~$<span class="w"> </span>firefox<span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span><span class="p">&amp;</span>
<span class="o">[</span><span class="m">2</span><span class="o">]</span><span class="w"> </span><span class="m">10595</span>
</pre></div>
</div>
<p>Acum orice va genera <code class="docutils literal notranslate"><span class="pre">firefox</span></code> va fi scris în <code class="docutils literal notranslate"><span class="pre">/dev/null</span></code>, care va consuma textul primit fără a ocupa spațiu pe disc.</p>
</li>
<li><p>Fișierul <code class="docutils literal notranslate"><span class="pre">/dev/zero</span></code> este un generator de octeți.
Acesta generează atâția octeți cu valoarea zero (<strong>0</strong>) <a class="footnote-reference brackets" href="#dev-zero" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> cât îi sunt ceruți.
Urmăm exemplul:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>cat<span class="w"> </span>/dev/zero<span class="w"> </span><span class="p">|</span><span class="w"> </span>xxd
<span class="m">00000000</span>:<span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w">  </span>................
<span class="m">00000010</span>:<span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w">  </span>................
<span class="m">00000020</span>:<span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w">  </span>................
<span class="m">00000030</span>:<span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w">  </span>................
<span class="m">00000040</span>:<span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w">  </span>................
<span class="m">00000050</span>:<span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w">  </span>................
<span class="m">00000060</span>:<span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w">  </span>................
<span class="m">00000070</span>:<span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w">  </span>................
<span class="m">00000080</span>:<span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0000</span><span class="w">  </span>................
<span class="o">[</span>...<span class="o">]</span>
^C
</pre></div>
</div>
<p>Deoarece citim din generator, comanda <code class="docutils literal notranslate"><span class="pre">cat</span></code> va afișa o infinitate de octeți cu valoarea zero.
Utilitarul <code class="docutils literal notranslate"><span class="pre">xxd</span></code> afișează în hexazecimal textul primit la STDIN.
Trecem rezultatul lui <code class="docutils literal notranslate"><span class="pre">cat</span></code> prin <code class="docutils literal notranslate"><span class="pre">xxd</span></code> deoarece valoarea <strong>0</strong> nu este un caracter printabil.
Cu alte cuvinte nu este un caracter obișnuit, ca cele de pe tastatură, deoarece nu are un echivalent grafic.
Folosim <code class="docutils literal notranslate"><span class="pre">Ctrl+c</span></code> pentru a opri execția.</p>
<p><strong>Exercițiu</strong>: Rulați comanda <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">/dev/zero</span></code> pentru a înțelege nevoia utilitarului <code class="docutils literal notranslate"><span class="pre">xxd</span></code> din exemplul de mai sus.</p>
<blockquote>
<div><ul class="simple">
<li><p>Fișierul <code class="docutils literal notranslate"><span class="pre">/dev/urandom</span></code> este un alt generator de octeți.</p></li>
</ul>
</div></blockquote>
<p>Acesta generează atâția octeți cu valoare random cât îi sunt ceruți.</p>
<p><strong>Exercițiu</strong>: Rulați comenzile din exemplul anterior, dar acum citiți din <code class="docutils literal notranslate"><span class="pre">/dev/urandom</span></code>.</p>
</li>
</ul>
<p>Generatoarele de octeți sunt utile pentru a testa aplicațiile pe care le dezvoltăm.
Majoritatea aplicațiilor pe care le vom scrie, ca și cele pe care le utilizăm, citesc și prelucrează informații.
Testăm o aplicație pentru că vrem să verificăm că nu avem buguri.
Pentru aceasta putem să folosim seturi de date de intrare cât mai variate și mai aleatoare, adică inputuri random.
Folosim utilitarul <code class="docutils literal notranslate"><span class="pre">dd</span></code> pentru a genera un fișier de 100 MB cu octeți random, ca în exemplul de mai jos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>student@uso:~$<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/urandom<span class="w"> </span><span class="nv">of</span><span class="o">=</span>rand-100mb<span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">100</span><span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M
<span class="m">100</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">100</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">104857600</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">105</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">100</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">1</span>,11416<span class="w"> </span>s,<span class="w"> </span><span class="m">94</span>,1<span class="w"> </span>MB/s
student@uso:~$<span class="w"> </span>ls<span class="w"> </span>-lh<span class="w"> </span>rand-100mb
-rw-rw-r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>student<span class="w"> </span>student<span class="w"> </span>100M<span class="w"> </span>nov<span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">17</span>:49<span class="w"> </span>rand-100mb
</pre></div>
</div>
<p>Am folosit următoarele opțiuni ale utilitarului <code class="docutils literal notranslate"><span class="pre">dd</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">if</span></code> - input file - calea către fișierul de unde citim</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">of</span></code> - output file - calea către fișierul unde scriem</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bs</span></code> - block size - dimensiunea unui block citit din <strong>if</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">count</span></code> - block count - numărul de block-uri citite</p></li>
</ul>
<p><strong>Exercițiu</strong>: Folosiți fișierul generat și utilitarul <code class="docutils literal notranslate"><span class="pre">tar</span></code> pentru a testa diferite metode de compresie a arhivelor.
Creați câte o arhivă pentru fiecare din următoarele opțiuni de compresie: <strong>Z</strong> (compress), <strong>z</strong> (gzip) și <strong>j</strong> (bzip2).
Comparați dimensiunile arhivelor obținute.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Un caz uzual de utilizare a <code class="docutils literal notranslate"><span class="pre">dd</span></code> este suprascrierea unui disc cu informații aleatoare.
Această metodă este utilizată ca o formă de securitate atunci când vrem să ștergem informații de pe un disc.
Astfel suprascriem datele șterse pentru a preveni posibilitatea recuperării datelor de pe disc.
Mai multe informații găsiți <a class="reference external" href="https://uwnthesis.wordpress.com/2014/07/26/kali-how-to-use-dd-to-wipe-your-usb-pen-the-visual-guide/">aici</a>.</p>
</div>
</section>
<section id="id2">
<h4><span class="section-number">4.2.3.5. </span>Exerciții<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p>Afișați primele zece procese sortate în funcție de memoria ocupată (Hint: RSS).
Nu uitați să includeți antetul.
Redirectați rezultatul în fișierul <strong>top10-rss-consumers</strong>.
Modificați comanda astfel încât rezultatul redirectării să nu șteargă conținutul existent.</p></li>
<li><p>Afișați ultimele zece procese sortate în funcție de utilizarea procesorului (Hint: CPU).
Nu uitați să includeți antetul.
Redirectați rezultatul în fișierul <strong>top10-cpu-consumers</strong>.
Modificați comanda astfel încât rezultatul redirectării să nu șteargă conținutul existent.</p></li>
</ol>
<p class="rubric">Note de subsol</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="dev-zero" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Valoarea <strong>0</strong> nu înseamnă cifra <strong>0</strong>.
Valoarea <strong>0</strong> înseamnă caracterul <strong>(null)</strong> din tabelul <a class="reference external" href="http://www.asciitable.com/">ASCII</a>.
Caracterul <strong>0</strong> are valoarea <strong>48</strong> în tabelul ASCII.</p>
</aside>
</aside>
</section>
</section>
</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="inspect-files.html"
       title="previous chapter">← <span class="section-number">3. </span>Inspectarea fișierelor</a>
  </li>
  <li class="next">
    <a href="improve-cli-summary.html"
       title="next chapter"><span class="section-number">5. </span>Sumar: Îmbunătățirea lucrului în linia de comandă →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2020, USO Team.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6 with <a href="https://github.com/romnn/sphinx_press_theme">Press Theme</a>.
</div>
            </div>
          </div>
      </page>
    </div>
    
    
  </body>
</html>